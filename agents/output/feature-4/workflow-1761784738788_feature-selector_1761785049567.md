### 기존 코드 분석

- 관련 파일:

  - `src/App.tsx` - 메인 애플리케이션 컴포넌트, 일정 목록 렌더링, 삭제 버튼, 반복 일정 수정 다이얼로그 포함
  - `src/hooks/useEventOperations.ts` - 일정 CRUD 로직을 포함하는 커스텀 훅. `deleteEvent`, `findRecurringGroupEvents`, `updateSingleRecurringEvent`, `updateAllRecurringEvents` 함수 포함
  - `src/types.ts` - `Event` 및 `RepeatType` 타입 정의

- 수정 대상:

  - 파일: `src/App.tsx`
  - 유형: FUNCTION, COMPONENT, STATE
  - 이름: `App` 컴포넌트 내 `IconButton`의 `onClick` 핸들러, 신규 `useState` 변수, 신규 `Dialog` 컴포넌트
  - 현재 동작:
    - `App.tsx`의 일정 목록에서 `Delete` 아이콘 버튼 클릭 시, `onClick={() => deleteEvent(event.id)}` 핸들러가 `useEventOperations` 훅의 `deleteEvent` 함수를 즉시 호출한다.
    - 반복 일정 수정 시에는 `isRecurringEditDialogOpen` 다이얼로그를 표시하여 "해당 일정만 수정" 또는 "모든 일정 수정"을 선택하게 한다.
  - 변경 필요:

    - 상수만 변경하면 되는가? 아닙니다. 새로운 UI 요소(Dialog)와 이를 제어하는 상태 관리 로직, 그리고 반복 일정 그룹 전체를 삭제하는 새로운 비즈니스 로직이 추가되어야 합니다.
    - 구체적으로 무엇을 어떻게 바꿔야 하는지:
      1.  `App.tsx`에 반복 일정 삭제 확인 다이얼로그의 열림/닫힘 상태를 관리할 `useState` 변수 (`isRecurringDeleteDialogOpen`)와 삭제할 `Event` 객체를 저장할 `useState` 변수 (`eventToDelete`)를 추가해야 합니다.
      2.  일정 목록의 `Delete` 버튼 `onClick` 핸들러는 이제 `isRepeatEvent(event)`를 확인하여 반복 일정인 경우 `eventToDelete`를 설정하고 `isRecurringDeleteDialogOpen`을 열도록 변경해야 합니다. 단일 일정인 경우 기존처럼 `deleteEvent(event.id)`를 직접 호출합니다.
      3.  `App.tsx`에 Material-UI `Dialog` 컴포넌트를 사용하여 반복 일정 삭제 확인 다이얼로그를 구현해야 합니다. 이 다이얼로그는 "예 (이 일정만)" 버튼과 "아니오 (모든 일정)" 버튼을 포함해야 합니다.
      4.  다이얼로그의 "예 (이 일정만)" 버튼 `onClick` 핸들러에서 `eventToDelete`에 저장된 ID를 사용하여 `useEventOperations`의 `deleteEvent` 함수를 호출하도록 구현해야 합니다.
      5.  다이얼로그의 "아니오 (모든 일정)" 버튼 `onClick` 핸들러에서 새로 추가할 `useEventOperations`의 `deleteAllRecurringEvents` 함수를 호출하도록 구현해야 합니다.

  - 파일: `src/hooks/useEventOperations.ts`
  - 유형: FUNCTION, CONSTANT
  - 이름: `deleteAllRecurringEvents` 함수, `SNACKBAR_MESSAGES` 상수
  - 현재 동작: `deleteEvent`는 단일 일정만 삭제하며, 반복 일정 그룹 전체를 삭제하는 기능은 없다.
  - 변경 필요:
    - 상수만 변경하면 되는가? 아닙니다. 새로운 삭제 로직이 필요합니다.
    - 구체적으로 무엇을 어떻게 바꿔야 하는지:
      1.  `SNACKBAR_MESSAGES` 상수 객체에 `ALL_RECURRING_EVENTS_DELETED` 및 `RECURRING_EVENT_DELETE_FAILED` 메시지를 추가합니다.
      2.  `deleteAllRecurringEvents(referenceEvent: Event)` 함수를 추가합니다.
      3.  이 함수는 `findRecurringGroupEvents(referenceEvent)`를 호출하여 동일한 반복 그룹에 속하는 모든 이벤트를 찾습니다.
      4.  찾아진 각 이벤트에 대해 기존의 `callApi` 함수를 사용하여 `DELETE` 요청을 순차적으로 보냅니다.
      5.  모든 삭제 작업이 완료되면 `fetchEvents()`를 호출하여 이벤트 목록을 갱신하고, 적절한 스낵바 메시지를 표시합니다.
      6.  `useEventOperations` 훅의 반환 객체에 `deleteAllRecurringEvents` 함수를 추가합니다.

### 기능 목록

| ID   | 기능 이름                      | 타입            | 파일                                             | 복잡도   | 수락 기준                                                                                                                                                  |
| ---- | ------------------------------ | --------------- | ------------------------------------------------ | -------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| F001 | 반복 일정 삭제 다이얼로그 표시 | ADD_NEW         | `src/App.tsx`                                    | moderate | - [ ] 반복 일정 삭제 버튼 클릭 시 다이얼로그가 표시됨<br>- [ ] 다이얼로그에 "해당 일정만 삭제하시겠어요?" 메시지 표시됨                                    |
| F002 | 단일 반복 일정 삭제            | MODIFY_EXISTING | `src/App.tsx`, `src/hooks/useEventOperations.ts` | simple   | - [ ] 다이얼로그에서 "예 (이 일정만)" 클릭 시 해당 일정만 삭제됨<br>- [ ] 기존 `deleteEvent` 함수 재사용                                                   |
| F003 | 모든 반복 일정 삭제            | ADD_NEW         | `src/hooks/useEventOperations.ts`, `src/App.tsx` | moderate | - [ ] `useEventOperations.ts`에 `deleteAllRecurringEvents` 함수 추가됨<br>- [ ] 다이얼로그에서 "아니오 (모든 일정)" 클릭 시 동일 그룹의 모든 일정이 삭제됨 |

### 의존성

- F002(단일 반복 일정 삭제)는 기존 `deleteEvent` 함수에 의존합니다.
- F003(모든 반복 일정 삭제)는 `useEventOperations.ts`의 `findRecurringGroupEvents` 함수에 의존합니다.
- F001(반복 일정 삭제 다이얼로그 표시)는 F002, F003의 진입점 역할을 합니다.

### 추천 구현 순서

1.  **`src/hooks/useEventOperations.ts` 수정 (F003의 일부)**
    - `SNACKBAR_MESSAGES`에 `ALL_RECURRING_EVENTS_DELETED` 및 `RECURRING_EVENT_DELETE_FAILED` 메시지 추가.
    - `deleteAllRecurringEvents(referenceEvent: Event)` 함수를 추가하고, `findRecurringGroupEvents`를 사용하여 그룹 이벤트를 찾은 후 각 이벤트를 순차적으로 `DELETE` API 호출로 삭제하도록 구현합니다.
    - 훅의 반환 객체에 `deleteAllRecurringEvents`를 추가합니다.
2.  **`src/App.tsx` 수정 (F001, F002, F003)**
    - `useEventOperations` 훅에서 `deleteAllRecurringEvents`를 가져옵니다.
    - `isRecurringDeleteDialogOpen` (boolean) 및 `eventToDelete` (Event | null) 상태 변수를 추가합니다.
    - `Delete` `IconButton`의 `onClick` 핸들러를 수정하여, `isRepeatEvent(event)`가 true인 경우 `eventToDelete`를 설정하고 `setIsRecurringDeleteDialogOpen(true)`를 호출하도록 합니다. false인 경우 기존처럼 `deleteEvent(event.id)`를 호출합니다.
    - 반복 일정 삭제 확인을 위한 새로운 `Dialog` 컴포넌트를 추가합니다.
    - 다이얼로그 내 "예 (이 일정만)" 버튼 `onClick` 핸들러에서 `deleteEvent(eventToDelete.id)`를 호출하도록 구현 (`handleConfirmSingleDelete`).
    - 다이얼로그 내 "아니오 (모든 일정)" 버튼 `onClick` 핸들러에서 `deleteAllRecurringEvents(eventToDelete)`를 호출하도록 구현 (`handleConfirmAllDelete`).
    - 다이얼로그 닫기 로직에서 `isRecurringDeleteDialogOpen`과 `eventToDelete` 상태를 초기화합니다.
