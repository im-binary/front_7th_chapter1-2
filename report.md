# AI와 테스트를 활용한 안정적인 기능 개발 리포트

## 사용하는 도구를 선택한 이유가 있을까요? 각 도구의 특징에 대해 조사해본적이 있나요?

Gemini와 GitHub Copilot를 사용하여 이번 과제를 했습니다.
먼저 Gemini를 택한 이유는 돈 쓰지 않으면서 ... 토큰 limit 걸리지 않고 지속해서 요청을 보낼 수 있는 도구였기 때문이었습니다. 그 중 gemini-2.5-flash 모델을 사용했는데 입력 토큰은 1,048,576 토큰, 출력 토큰은 65,536 토큰 이라서 무리없이 긴 프롬프트를 읽을 수 있을 것 같아 선택하게 되었습니다.
GitHub Copilot도 학생은 무료로 쓸 수 있어서 이번 과제에 활용하게 되었습니다. 선택의 이유가 너무 짠돌이 같네요. Github Copilot은 IDE 내에서 직접 코드 스니펫을 생성하거나 제안받을 수 있어 실패하고 있는 테스트 코드를 통과하게 만들거나 리팩토링 하는 데에 사용하기 좋아 선택하게 되었습니다.

## 테스트를 기반으로 하는 AI를 통한 기능 개발과 없을 때의 기능개발은 차이가 있었나요?

이전에는 요구사항을 분석하며 숨겨진 요구사항은 없을 지 분석 후 구현을 했습니다. 어느 정도 구현 후 셀프 QA를 통해 엣지 케이스를 찾고 그 엣지 케이스를 보완하고... 그러다보면 기존에 됐던 게 안 되기도 하고 이런 식으로 개발을 하다보니 작업하다보면 어느 순간 큰 작업이 되어버리곤 했습니다.
그런데 이번에 AI를 통해 테스트를 기반으로 개발을 하면서 요구사항에 따라 테스트 설계를 하고, 미리 엣지 케이스를 생각하면서 테스트 코드가 생성되다보니 무엇을 구현해야 할 지, 어떤 순서로 하면 될 지 잘 정리가 되었습니다. 이렇게 작게 작게 작업을 나누어 할 수도 있고 새로운 코드가 추가될 때 기존에 구현된 게 동작하는 지 안 하는 지 굳이 화면을 통해 보지 않아도 알 수 있어 좋았습니다.

## AI의 응답을 개선하기 위해 추가했던 여러 정보(context)는 무엇인가요?

프로젝트 구조(buildProjectStructure) - orchestrator.ts에서 소스 폴더 구조를 스캔해 {{projectStructure}}로 전달
관련 코드 스니펫(findRelatedFiles -> relatedCode) — 키워드 기반으로 관련 코드 파일을 추출해 prompt에 포함
요구사항(사용자 입력) - 워크플로 시작 시 requirement 변수를 프롬프트에 삽입
이전 에이전트 결과(Feature Selector의 Markdown 등) — test-designer, 후속 단계에서 이전 단계의 Markdown을 그대로 프롬프트로 사용
안전 규칙과 출력 형식 제약 - llmClient.ts의 generateMarkdown에서 "CRITICAL OUTPUT RULES"로 마크다운 형식과 금지 규칙(굵은/이탤릭/이모지 사용 금지 등)을 강제

## 이 context를 잘 활용하게 하기 위해 했던 노력이 있나요?

generateMarkdown에서 명확한 "CRITICAL OUTPUT RULES"를 추가해 LLM 출력 형식(예: 마크다운 구조)을 강제하고, 재시도 로직(maxRetries)도 구현했습니다.

## 생성된 여러 결과는 만족스러웠나요? AI의 응답을 어떤 기준을 갖고 '평가(evaluation)'했나요?

템플릿 형식을 준수 했는지, 프롬프트 내 체크 리스트를 만들어 지켜주었으면 하는 것들이 얼마나 지켜졌는지, AI 본인이 그걸 지켰다면서 체크한 항목을 보며 평가했습니다.

## AI에게 어떻게 질문하는것이 더 나은 결과를 얻을 수 있었나요? 시도했던 여러 경험을 알려주세요.

구체적 역할 지정해주고 요구사항과 프로젝트 구조 관련 코드 스니펫을 같이 제공해주며 맥락을 많이 알려줄 수록 더 나은 결과를 얻을 수 있었습니다.
또 순차적으로 어떤 일을 하면 되는 지 알려주니까 그렇지 않았을 때보다 훨씬 더 구체적으로 답변을 해주었습니다.

```
안녕 나 서브 에이전트 만들고 싶어.

목표는 이거야. bmad처럼 AI끼리 팀이 되어 내가 말하는 요구사항을 정리해서 개발까지 완료시키는 거야. 요약하자면 AI 오케스트레이션 같은 거지.

그래서 일단 1차 목표는 단일 에이전트를 여러 개 만드는거야.
내가 만드려는 단일 에이전트는 내가 명세 / 기능 작성해서 주면 1. 기능 선정 2. 테스트 설계 3. 테스트 작성 및 검증 4. 리팩토링
이렇게 총 4개야.

그리고 최종 목표는 이 단일 에이전트끼리 소통해서 내가 원하는 앱을 만드는 거지.

어떤 것부터 내가 해보면 될까?
```

```markdown
## 추천 시작 단계

현재 프로젝트가 React + TypeScript 기반의 캘린더 앱인 것 같은데, 이를 활용해서 단계적으로 진행하면 좋을 것 같습니다:
...

### **1단계: 단일 에이전트 프롬프트 설계 (추천 시작점)**

...

### **2단계: 프롬프트 템플릿 작성**

...

### **3단계: 수동 워크플로우 테스트**

...

### **5단계: 오케스트레이터 구현**

...

## 당장 시작할 수 있는 것

...
```

이런 식으로 구체적인 답변을 얻을 수 있었습니다.

## AI에게 지시하는 작업의 범위를 어떻게 잡았나요? 범위를 좁게, 넓게 해보고 결과를 적어주세요. 그리고 내가 생각하는 적절한 단위를 말해보세요.

단일 함수만 수정하라는 식으로 작업의 범위를 좁게 잡으니 출력이 구체적이었습니다. 또 스스로 오류를 파악하는 것도 빠르고 그에 따라 보완도 금방 했습니다. 그러나 전체적인 흐름을 모르다보니 그 함수를 사용하고 있는 곳에서 영향이 생기기도 하고 그런 면에서의 통찰을 좀 부족한 것 같았습니다.
기능 단위로 작업의 범위를 넓히니 어떤 구조로 가져가면 좋고, 영향이 미칠 수 있는 곳은 어디인지 어떻게 수정하면 될 지 제안도 해주었습니다. 그러나 출력이 좀 길고 세세한 구현까지는 못한다거나 해도 덜 하는 .. 상황이 종종 있었습니다.
그래도 기능 단위로 작업의 범위를 가져가는 게 괜찮았던 게 PR 단위와 자연스럽게 매칭도 되고 TDD 사이클로 개발하기도 좋았던 것 같습니다.

## 동기들에게 공유하고 싶은 좋은 참고자료나 문구가 있었나요? 마음껏 자랑해주세요.

## AI가 잘하는 것과 못하는 것에 대해 고민한 적이 있나요? 내가 생각하는 지점에 대해 작성해주세요.

구조화된 문서를 생성하고 반복적이고 규칙 기반의 작업을 잘하는 것 같습니다. 또 해야 하는 작업에 대해 어떤 순서로 진행하면 좋을 지 시나리오도 잘 생성해주는 것 같습니다.
타입같은 거 잘 작성해주지 못하는 것 같고 문제가 작고 깊을 수록 예를 들면... (너가 써줘)

## 마지막으로 느낀점에 대해 적어주세요!

아 AI는 똑똑한데 사용하는 사람(저)는 똑똑하지 못해서 활용의 한계가 있는 것 같습니다. 흑 ... 그래서 그런지 아직까지는 AI가 작성한 코드에 대해 신뢰도가 높지는 않습니다. 제가 작성한 코드에 대해 수정해달라고 부탁하면 수정은 괜찮게 해주는 것 같은데 처음부터 맡기기는 아직 무서운 것 같습니다. 그래서 이번 과제도 진행하면서 테스트는 통과해도 실제로 동작하지 않을까봐 셀프QA를 계속 했고... 원래 테스트 작성하면서 마음의 안정을 얻는데 이번 테스트 코드는... 그닥 마음의 안정을 얻지 못했던 것 같습니다.
