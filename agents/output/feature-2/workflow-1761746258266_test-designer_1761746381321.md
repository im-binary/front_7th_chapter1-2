## 테스트 전략

### 접근 방식

- 방법론: TDD (Test-Driven Development)
- 원칙: F.I.R.S.T 원칙 준수
- 중점: 사용자 시나리오 중심, 비즈니스 가치 검증

### 중점 영역

1.  사용자 인터랙션: 캘린더 뷰(주간/월간) 및 일정 목록에서 아이콘 시각적 확인
2.  UI 일관성: 알림 아이콘과 함께 표시될 때 정렬 및 시각적 구분이 유지되는지 확인
3.  데이터 표시 정확성: 반복 일정 여부에 따라 아이콘이 올바르게 표시되거나 표시되지 않는지 확인

### 목표 커버리지

- 라인 커버리지: 90% (의미있는 코드에 대해)
- 브랜치 커버리지: 85% (모든 조건문 분기)
- 함수 커버리지: 95% (public 함수)
- 중요: 단순 커버리지 숫자보다 의미있는 테스트 작성

### 테스트 우선순위

1.  High: 반복 일정 표시의 핵심 기능, 정렬 깨짐 방지
2.  Medium: 반복 일정이 아닌 경우 아이콘 미표시
3.  Low: 특정 뷰 전환 후 아이콘 표시

## 테스트 케이스 목록

### TC001: 주간 캘린더 뷰에서 반복 일정이 Material-UI Repeat 아이콘으로 표시되는지 확인

- 기능 ID: F002
- 테스트 유형: integration
- 우선순위: high
- 설명: 주간 캘린더 뷰에서 반복 설정된 일정이 Material-UI Repeat 아이콘으로 올바르게 표시되는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 현재 날짜가 포함된 주간 뷰가 표시됩니다.
  - 하나 이상의 반복 일정이 존재하며, 이 일정은 현재 주에 포함됩니다.
  - 해당 반복 일정은 알림이 설정되어 있지 않습니다.
- When (실행 동작):
  - 사용자가 주간 캘린더 뷰를 확인합니다.
- Then (예상 결과):
  - 해당 반복 일정 옆에 Material-UI Repeat 아이콘이 화면에 표시됩니다.
  - 알림 아이콘은 표시되지 않습니다.
- 검증 포인트:
  1.  주간 뷰에서 반복 일정의 Material-UI Repeat 아이콘이 `aria-label="Repeat icon"` 등으로 접근 가능하며 화면에 보이는지 확인합니다.
  2.  알림 아이콘(`aria-label="Notifications icon"`)이 표시되지 않는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '1', title: '반복 미팅', date: '2023-11-20', time: '10:00', repeat: { type: 'weekly' }, notification: false }]`

### TC002: 주간 캘린더 뷰에서 반복 일정이면서 알림 설정된 경우 Repeat 및 Notification 아이콘이 정렬되어 표시되는지 확인

- 기능 ID: F002
- 테스트 유형: integration
- 우선순위: high
- 설명: 주간 캘린더 뷰에서 반복 설정과 알림 설정이 동시에 된 일정의 아이콘들이 올바르게 정렬되어 표시되는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 현재 날짜가 포함된 주간 뷰가 표시됩니다.
  - 하나 이상의 반복 일정이 존재하며, 알림도 설정되어 있습니다. 이 일정은 현재 주에 포함됩니다.
- When (실행 동작):
  - 사용자가 주간 캘린더 뷰를 확인합니다.
- Then (예상 결과):
  - 해당 일정 옆에 Material-UI Repeat 아이콘과 Material-UI Notifications 아이콘이 모두 화면에 표시됩니다.
  - 두 아이콘이 가로로 나란히 정렬되어 표시되며, UI 깨짐이 없습니다.
- 검증 포인트:
  1.  주간 뷰에서 반복 일정의 Material-UI Repeat 아이콘이 `aria-label="Repeat icon"` 등으로 화면에 보이는지 확인합니다.
  2.  주간 뷰에서 알림 아이콘(`aria-label="Notifications icon"`)이 화면에 보이는지 확인합니다.
  3.  두 아이콘이 포함된 부모 요소의 CSS 속성(예: `display: flex`, `align-items: center`)을 간접적으로 확인하거나, 스냅샷 테스트를 통해 시각적 정렬을 검증합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '2', title: '반복 알림 일정', date: '2023-11-20', time: '14:00', repeat: { type: 'daily' }, notification: true }]`

### TC003: 주간 캘린더 뷰에서 반복 일정이 아닌 경우 Repeat 아이콘이 표시되지 않는지 확인

- 기능 ID: F002
- 테스트 유형: integration
- 우선순위: medium
- 설명: 주간 캘린더 뷰에서 반복 설정되지 않은 일정에 Repeat 아이콘이 잘못 표시되지 않는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 현재 날짜가 포함된 주간 뷰가 표시됩니다.
  - 하나 이상의 반복이 아닌 일정이 존재합니다. 이 일정은 현재 주에 포함됩니다.
  - 해당 일정은 알림이 설정되어 있을 수도 있고 없을 수도 있습니다.
- When (실행 동작):
  - 사용자가 주간 캘린더 뷰를 확인합니다.
- Then (예상 결과):
  - 해당 일정 옆에 Material-UI Repeat 아이콘이 화면에 표시되지 않습니다.
  - 알림이 설정된 경우 알림 아이콘만 표시됩니다.
- 검증 포인트:
  1.  주간 뷰에서 반복이 아닌 일정 옆에 Material-UI Repeat 아이콘(`aria-label="Repeat icon"`)이 화면에 존재하지 않는지 확인합니다.
  2.  알림 아이콘(`aria-label="Notifications icon"`)이 설정된 경우에만 올바르게 표시되는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '3', title: '일반 미팅', date: '2023-11-20', time: '11:00', repeat: { type: 'none' }, notification: false }]`

### TC004: 월간 캘린더 뷰에서 반복 일정이 Material-UI Repeat 아이콘으로 표시되는지 확인

- 기능 ID: F003
- 테스트 유형: integration
- 우선순위: high
- 설명: 월간 캘린더 뷰에서 반복 설정된 일정이 Material-UI Repeat 아이콘으로 올바르게 표시되는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 현재 날짜가 포함된 월간 뷰가 표시됩니다.
  - 하나 이상의 반복 일정이 존재하며, 이 일정은 현재 월에 포함됩니다.
  - 해당 반복 일정은 알림이 설정되어 있지 않습니다.
- When (실행 동작):
  - 사용자가 월간 캘린더 뷰를 확인합니다.
- Then (예상 결과):
  - 해당 반복 일정 옆에 Material-UI Repeat 아이콘이 화면에 표시됩니다.
  - 알림 아이콘은 표시되지 않습니다.
- 검증 포인트:
  1.  월간 뷰에서 반복 일정의 Material-UI Repeat 아이콘이 `aria-label="Repeat icon"` 등으로 화면에 보이는지 확인합니다.
  2.  알림 아이콘(`aria-label="Notifications icon"`)이 표시되지 않는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '4', title: '월간 반복 업무', date: '2023-11-15', time: '09:00', repeat: { type: 'monthly' }, notification: false }]`

### TC005: 월간 캘린더 뷰에서 반복 일정이면서 알림 설정된 경우 Repeat 및 Notification 아이콘이 정렬되어 표시되는지 확인

- 기능 ID: F003
- 테스트 유형: integration
- 우선순위: high
- 설명: 월간 캘린더 뷰에서 반복 설정과 알림 설정이 동시에 된 일정의 아이콘들이 올바르게 정렬되어 표시되는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 현재 날짜가 포함된 월간 뷰가 표시됩니다.
  - 하나 이상의 반복 일정이 존재하며, 알림도 설정되어 있습니다. 이 일정은 현재 월에 포함됩니다.
- When (실행 동작):
  - 사용자가 월간 캘린더 뷰를 확인합니다.
- Then (예상 결과):
  - 해당 일정 옆에 Material-UI Repeat 아이콘과 Material-UI Notifications 아이콘이 모두 화면에 표시됩니다.
  - 두 아이콘이 가로로 나란히 정렬되어 표시되며, UI 깨짐이 없습니다.
- 검증 포인트:
  1.  월간 뷰에서 반복 일정의 Material-UI Repeat 아이콘이 `aria-label="Repeat icon"` 등으로 화면에 보이는지 확인합니다.
  2.  월간 뷰에서 알림 아이콘(`aria-label="Notifications icon"`)이 화면에 보이는지 확인합니다.
  3.  두 아이콘이 포함된 부모 요소의 CSS 속성을 간접적으로 확인하거나 스냅샷 테스트를 통해 시각적 정렬을 검증합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '5', title: '월간 반복 알림', date: '2023-11-25', time: '16:00', repeat: { type: 'monthly' }, notification: true }]`

### TC006: 월간 캘린더 뷰에서 반복 일정이 아닌 경우 Repeat 아이콘이 표시되지 않는지 확인

- 기능 ID: F003
- 테스트 유형: integration
- 우선순위: medium
- 설명: 월간 캘린더 뷰에서 반복 설정되지 않은 일정에 Repeat 아이콘이 잘못 표시되지 않는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 현재 날짜가 포함된 월간 뷰가 표시됩니다.
  - 하나 이상의 반복이 아닌 일정이 존재합니다. 이 일정은 현재 월에 포함됩니다.
- When (실행 동작):
  - 사용자가 월간 캘린더 뷰를 확인합니다.
- Then (예상 결과):
  - 해당 일정 옆에 Material-UI Repeat 아이콘이 화면에 표시되지 않습니다.
  - 알림이 설정된 경우 알림 아이콘만 표시됩니다.
- 검증 포인트:
  1.  월간 뷰에서 반복이 아닌 일정 옆에 Material-UI Repeat 아이콘(`aria-label="Repeat icon"`)이 화면에 존재하지 않는지 확인합니다.
  2.  알림 아이콘(`aria-label="Notifications icon"`)이 설정된 경우에만 올바르게 표시되는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '6', title: '일반 일정', date: '2023-11-10', time: '13:00', repeat: { type: 'none' }, notification: false }]`

### TC007: 일정 목록에서 반복 일정이 Material-UI Repeat 아이콘으로 표시되는지 확인

- 기능 ID: F004
- 테스트 유형: integration
- 우선순위: high
- 설명: 우측 일정 목록에서 반복 설정된 일정이 Material-UI Repeat 아이콘으로 올바르게 표시되는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 우측에 일정 목록이 표시됩니다.
  - 하나 이상의 반복 일정이 존재하며, 목록에 표시됩니다.
  - 해당 반복 일정은 알림이 설정되어 있지 않습니다.
- When (실행 동작):
  - 사용자가 일정 목록(`data-testid="event-list"`)을 확인합니다.
- Then (예상 결과):
  - 해당 반복 일정 옆에 Material-UI Repeat 아이콘이 화면에 표시됩니다.
  - 알림 아이콘은 표시되지 않습니다.
- 검증 포인트:
  1.  일정 목록에서 반복 일정의 Material-UI Repeat 아이콘이 `aria-label="Repeat icon"` 등으로 화면에 보이는지 확인합니다.
  2.  알림 아이콘(`aria-label="Notifications icon"`)이 표시되지 않는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '7', title: '목록 반복 일정', date: '2023-11-21', time: '10:00', repeat: { type: 'daily' }, notification: false }]`

### TC008: 일정 목록에서 반복 일정이면서 알림 설정된 경우 Repeat 및 Notification 아이콘이 정렬되고 색상 구분이 되는지 확인

- 기능 ID: F004
- 테스트 유형: integration
- 우선순위: high
- 설명: 일정 목록에서 반복 설정과 알림 설정이 동시에 된 일정의 아이콘들이 올바르게 정렬되고 지정된 색상으로 구분되어 표시되는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 우측에 일정 목록이 표시됩니다.
  - 하나 이상의 반복 일정이 존재하며, 알림도 설정되어 있습니다. 이 일정은 목록에 표시됩니다.
- When (실행 동작):
  - 사용자가 일정 목록(`data-testid="event-list"`)을 확인합니다.
- Then (예상 결과):
  - 해당 일정 옆에 Material-UI Repeat 아이콘과 Material-UI Notifications 아이콘이 모두 화면에 표시됩니다.
  - 두 아이콘이 가로로 나란히 정렬되어 표시되며, UI 깨짐이 없습니다.
  - Repeat 아이콘은 Material-UI `primary` 색상으로, Notifications 아이콘은 `error` 색상으로 표시됩니다.
- 검증 포인트:
  1.  일정 목록에서 반복 일정의 Material-UI Repeat 아이콘이 `aria-label="Repeat icon"` 등으로 화면에 보이는지 확인합니다.
  2.  일정 목록에서 알림 아이콘(`aria-label="Notifications icon"`)이 화면에 보이는지 확인합니다.
  3.  두 아이콘이 포함된 부모 요소의 CSS 속성을 간접적으로 확인하거나 스냅샷 테스트를 통해 시각적 정렬을 검증합니다.
  4.  Repeat 아이콘의 색상이 'primary' (예: CSS `color` 속성)로, Notifications 아이콘의 색상이 'error' (예: CSS `color` 속성)로 적용되었는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '8', title: '목록 반복 알림', date: '2023-11-22', time: '15:00', repeat: { type: 'weekly' }, notification: true }]`

### TC009: 일정 목록에서 반복 일정이 아닌 경우 Repeat 아이콘이 표시되지 않는지 확인

- 기능 ID: F004
- 테스트 유형: integration
- 우선순위: medium
- 설명: 우측 일정 목록에서 반복 설정되지 않은 일정에 Repeat 아이콘이 잘못 표시되지 않는지 검증합니다.
- Given (초기 조건):
  - `App` 컴포넌트가 렌더링되고 우측에 일정 목록이 표시됩니다.
  - 하나 이상의 반복이 아닌 일정이 존재하며, 목록에 표시됩니다.
- When (실행 동작):
  - 사용자가 일정 목록(`data-testid="event-list"`)을 확인합니다.
- Then (예상 결과):
  - 해당 일정 옆에 Material-UI Repeat 아이콘이 화면에 표시되지 않습니다.
  - 알림이 설정된 경우 알림 아이콘만 표시됩니다.
- 검증 포인트:
  1.  일정 목록에서 반복이 아닌 일정 옆에 Material-UI Repeat 아이콘(`aria-label="Repeat icon"`)이 화면에 존재하지 않는지 확인합니다.
  2.  알림 아이콘(`aria-label="Notifications icon"`)이 설정된 경우에만 올바르게 표시되는지 확인합니다.
- Mock/Stub 요구사항:
  - `Event` 데이터: `[{ id: '9', title: '일반 목록 일정', date: '2023-11-23', time: '11:00', repeat: { type: 'none' }, notification: false }]`

## 테스트 구조 설계

### 파일 구조

```
src/__tests__/
  ├── unit/
  │   └── # 현재 기능에 대한 순수 함수 단위 테스트는 불필요
  ├── integration/
  │   └── App.integration.spec.tsx # App 컴포넌트의 캘린더 및 일정 목록 렌더링 테스트
  └── e2e/
      └── # 현재 기능에 대한 E2E 테스트는 불필요
```

### 테스트 파일 명명 규칙

- `[테스트대상].[난이도].[타입].spec.ts`
- 예: `App.integration.spec.tsx`

## 테스트 피라미드 구성

### 분포

- 단위 테스트: 0개 (현재 기능은 UI 통합 관점에서 테스트)
  - 현재 기능은 UI 렌더링 및 컴포넌트 통합에 중점을 두므로, 별도의 순수 함수 단위 테스트는 불필요합니다.
- 통합 테스트: 9개 (100%)
  - `App` 컴포넌트 내 캘린더 뷰와 일정 목록의 아이콘 렌더링 및 정렬 검증
  - React Testing Library를 사용하여 사용자 관점에서 UI 상호작용 및 결과 검증
- E2E 테스트: 0개 (선택적)
  - 현재 기능의 중요도와 복잡성을 고려할 때 E2E 테스트는 과도하다고 판단됩니다. 통합 테스트로 충분한 검증이 가능합니다.

### 근거

- 통합 테스트 중심: UI 렌더링 로직의 정확성과 컴포넌트 간의 상호작용(아이콘 정렬)을 효과적으로 검증합니다. 실제 사용자 경험과 가장 유사한 환경에서 테스트하여 비즈니스 가치를 검증합니다.
- 단위 테스트 최소화: 대부분의 로직이 렌더링 로직에 직접 포함되어 있어, 단위 테스트는 구현 세부사항에 대한 과도한 결합을 유발할 수 있습니다.
- E2E 최소화: 현재 기능은 복잡한 사용자 흐름보다는 특정 UI 요소의 올바른 표시에 초점을 맞추므로, 통합 테스트가 빠르고 효율적인 피드백을 제공합니다.

## 테스트 품질 체크리스트

작성된 테스트 케이스가 다음을 만족하는지 확인:

- [x] 사용자 관점에서 작성되었는가?
- [x] 비즈니스 가치를 검증하는가?
- [x] 테스트 이름만으로 무엇을 검증하는지 이해 가능한가?
- [x] 실패 시 문제 위치를 명확히 알 수 있는가?
- [x] 다른 테스트와 독립적으로 실행 가능한가?
- [x] Given-When-Then이 명확히 구분되는가?
- [x] 엣지 케이스와 에러 케이스를 포함하는가? (반복 아님, 알림과 함께)
- [x] Mock을 적절히 사용하여 외부 의존성을 제어하는가? (이벤트 데이터)
- [x] 구현 세부사항이 아닌 동작을 테스트하는가? (UI 표시, 정렬)
- [x] 단언문(assertion)이 명확하고 구체적인가?
